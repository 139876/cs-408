# 计算机网络 computer network

## 基本的状态码

20x成功，30x转发重定向，40x请求不存在、50x服务端问题。

# xmind补充

功能组成

![功能组成](D:\study\计算机网络\image\功能组成.bmp)

交换方式

![](D:\study\计算机网络\image\交换方式.jpg)

标准化工作相关组织：

国际标准化组织ISO：OSI参考模型、HDLC协议

国际电信联盟ITU：制定通信协议

国际电气电子工程师协会IEEE：学术结构、IEEE802系列标准、5G

Internet工程任务组IETF：负责因特网相关标准的制定 RFC xxx



---



# 性能指标

### 速率

数据率、比特率

定义：连接在计算机网络上的主机在数字信道上传送**数据位数**的速率，数据的传输速率

单位：

- bit/s = bps 比特每秒（bits per second）

  比特率、比特/秒、位/秒、每秒传送位数，数据传输速率的常用单位。

- Kb/s=10^3 bps

- Mb/s=10^6

- Gb/s=10^9

- Tb/s=10^12

**位**：**比特**bit

**字节**：Byte, 就是简写为B：1**B**yte = 8bit

1M**B**/s = 8M**b**ps = 8M**b**it/s 即兆比特每秒（Million bits per second的缩写）。

当提到网络的速率，一般指**额定速率**、**标称速率**，而不是实际上运行的速率

### 带宽

定义：在计算机网络中，指的是网络设备所支持的最高速度，单位同速率，是理想条件下**最高数据率**

相当于一个速率

物理网络设备所能支撑的最高速度

### 吞吐量

定义：单位时间内通过某个网络的**实际数据总量**

个人理解
速率就是实际网速，带宽是理论网速（长城宽带警告），吞吐量是一个或多个设备的综合速率，比如说1000m宽带的路由器连着三部手机，每部手机都是10mb/s看片，那么速率就是10mb/s，带宽是宽带的1000m，路由器吞吐量是30mb/s，即三者之和

### 时延

定义：数据从网络的一段传送到另一端所需的时间

| 名称              | 描述                                 | 计算                                          |
| :---------------- | :----------------------------------- | --------------------------------------------- |
| 发送时延/传输时延 | 数据从主机到信道上所用的时间         | **发送的数据帧长度(bit)/发送速率(bit/s)**     |
| 传播时延          | 数据在信道上传播所花费的时间         | **信道长度(m)/电磁波在信道上传播的速率(m/s)** |
| 排队时延          | 数据在路由器前等待前面数据处理的时间 | \                                             |
| 处理时延          | 数据在路由器中处理需求的时间         | \                                             |

总时延就是这四者之和

使用**高速链路**仅提高网速（发送速率），只能减小发送时延，无法减少其他三个时延，不一定更快。

> 电磁波在媒介中的速度

| 媒介     | 速度         |
| -------- | ------------ |
| 自由空间 | 3.0*10^5km/s |
| 光纤     | 2.0*10^5km/s |
| 铜线电缆 | 2.3*10^5km/s |

### 时延带宽积

以比特为单位的链路长度

**时延带宽积（bit） = 传播时延(s) x 带宽(b/s)**

意思是链路此时此刻有多少比特的数据

### 往返时延RTT

发送端发送数据开始，到发送端收到来自接收端的确认（接收端收到数据后便立即发送确认），总共经历的时延（一个来回，去掉发送时延）

**RTT=传播时延x2 + 处理时延**(有时可能直接忽略)

RTP越大，在收到确认之前，可以发送的数据越多，因为等回复的时间长

### 利用率

**信道利用率 **= 有数据通过时间/（有+无）数据通过的时间

**网络利用率 **= 所有信道利用率加权求平均值

时延和利用率的关系
$$
D = {D_0\over 1-U}
$$

- D：现在时延
- D_0：网络空闲时的时延
- U：现在网络利用率

利用率越高，延迟越大

![](D:\study\计算机网络\image\利用率&时延.bmp)



---

### 分层结构

为什么要分层，分层要做什么

1. 发起通信的计算机必须将数据通信的通路进行激活。
2. 要告诉网络如何识别目的主机。
3. 发起通信的计算机要查明目的主机是否开机，并且与网络连接正常。
4. 发起通信的计算机要弄清楚，对方计算机中文件管理程序是否已经做好准备工作。
5. 确保差错和意外可以解决。

网络协议三要素

1. 语法：数据与控制信息的结构、格式
2. 语义：需要发出何种控制信息，完成何种动作，做出何种响应
3. 同步：事件实现顺序的详细说明



参考模型

| 名称       | 英文               | 作用                                                         |
| ---------- | ------------------ | ------------------------------------------------------------ |
| 应用层     | Application Layer  | 直接为用户的应用进程（例如电子邮件、文件传输和终端仿真）提供服务。如HTTP、SMTP、FTP、DNS等 |
| 表示层     | Presentation Layer | 把数据转换为能与接收者的系统格式兼容并适合传输的格式，即让两个系统可以交换信息 |
| 会话层     | Session Layer      | 负责在数据传输中设置和维护计算机网络中两台计算机之间的通信连接 |
| 传输层     | Transport Layer    | 负责端到端通讯，可靠传输，不可靠传输 ，流量控制，复用分用    |
| 网络层     | Network Layer      | 负责选择路由最佳路径，规划IP地址(ipv4和ipv6变化只会影响网络层)，拥塞控制 |
| 数据链路层 | Data Link Layer    | 帧的开始和结束，还有透明传输，差错校验(纠错由传输层解决)     |
| 物理层     | Physical Layer     | 定义网络设备接口标准，电气标准(电压)，如何在物理链路上传输的更快 |

 

#### OSI流程简介

网络层及以上，每一层都要对上一层发送的数据进行处理（加个头部）

数据链路层不仅需要加头部，还需要加尾部

物理层什么都不加，只管发送数据（比特流）

![](D:\study\计算机网络\image\OSI传输.png)

中间系统，最多到网络层（路由器），一般到链路层（交换机、网桥）

![](D:\study\计算机网络\image\OSI中间传输.bmp)

![PDU](D:\study\计算机网络\image\数据单位.bmp)

PDU：等层之间的数据单位

SDU：层与层之间的数据单位

#### TCP/IP参考模型

![](D:\study\计算机网络\image\网络模型.bmp)

五层参考模型中，把TCP/IP模型中的网络接口层分为**数据链路层**和**物理层**

![](D:\study\计算机网络\image\封装.png)

#### OSI与TCP/IP对比

面向连接：需要建立连接

无连接：可以直接进行数据传输

|        | IOS/OSI参考模型 | TCP/IP模型      |
| ------ | --------------- | --------------- |
| 网络层 | 无连接+面向连接 | 无连接          |
| 传输层 | 面向连接        | 无连接+面向连接 |

